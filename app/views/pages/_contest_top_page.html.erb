
<div class="row">
  <div class="col">
  	<div class="row">
  		<div class="col h4 d-flex justify-content-center"><a href="/contest/<%= c.id %>" class="contest-title-link"><%= c.title %></a></div>
    </div>
  	<div class="row">
  		<div class="col h6 d-flex justify-content-center"><%= c.starts_at.strftime '%Y/%m/%d' %> - <%= c.ends_at.strftime '%Y/%m/%d' %></div>
    </div>
  </div>
</div>
<div class="row my-3 d-flex justify-content-center">
	<div class="col-10 d-flex justify-content-center"><%= c.description.html_safe %></div>
</div>

<% if c.starts_at>Time.now %>
  <div class="row my-3">
  	<div class="col d-flex justify-content-center fw-bold" id="countdown-<%= c.id %>">
    </div>		
  </div>
	<script>	
		(function() {
			var countDownDate = new Date("<%= c.starts_at %>").getTime();
	 		var x = setInterval(function() {
  		var now = new Date().getTime();
   	 	var distance = countDownDate - now;
  		var days = Math.floor(distance / (1000 * 60 * 60 * 24));
  		var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
  		var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
  		var seconds = Math.floor((distance % (1000 * 60)) / 1000);

  		document.getElementById("countdown-<%= c.id %>").innerHTML = days + " days " + hours + " hours "+ minutes + " minutes " + seconds + " seconds ";

    	if (distance < 0) { learInterval(x); document.getElementById("countdown-<%= c.id %>").innerHTML = ""; }
		}, 1000);
	 })();
</script>
<% end %>

<% if c.starts_at<Time.now %>
	<%= render partial: 'statistics', locals: { object: observations_object } %>
<% end %>
