
<div class="row justify-content-center my-5">
  <div class="col-4">
    <button type="button" class="btn btn-warning w-100" data-bs-toggle="modal" data-bs-target="#region_modal">+ New Region</button>
  </div>
</div>

<div class="row my-5">
  <div class="col-3 fw-bold">Region</div>
  <div class="col-3 fw-bold">Description</div>
  <div class="col-2 fw-bold">Population</div>
  <div class="col-1 fw-bold">Online</div>
  <div class="col-3"></div>
</div>

<% @regions.each do |r| %>
  <div class="row mb-3">
  	<div class="col-3">
      <% if r.region_url %>
        <a href="<%= r.region_url %>"><%= r.name %></a>
      <% else %>
        <%= r.name %>
      <% end %>
    </div>
  	<div class="col-3"><%= r.description.truncate_words 10 %></div>
  	<div class="col-2"><%= r.population %></div>
  	<div class="col-1 text-<%= r.online? ? 'success' : 'muted' %>"><%= r.online? ? '&#10004;'.html_safe: '&#9587;'.html_safe %></div>
  	<div class="col-3">
      <a role="button" class="btn btn-secondary" href="/region/<%= r.id %>" target="_blank">View</a>
      <a role="button" class="btn btn-outline-secondary" data-bs-toggle="modal" data-bs-target="#region_<%= r.id %>_modal">Edit</a>
    </div>
  </div>
<% end %>

<%= render partial: 'region_form', locals: { region: nil, id: "region_modal", title: 'Create a Region' } %>

<% @regions.each do |r| %>
  <%= render partial: 'region_form', locals: { region: r, id: "region_#{ r.id }_modal", title: 'Edit Region' } %>
<% end %>

